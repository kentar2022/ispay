<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/lessons_menu_style.css">
    <link rel="stylesheet" href="styles/course_style.css">
    <link rel="stylesheet" href="styles/profile.css">
    <link rel="stylesheet" href="styles/coursesPage.css">
    <link rel="stylesheet" href="styles/shop_style.css">
    <link rel="stylesheet" href="styles/scrollbar.css">
    <link rel="stylesheet" href="styles/settings.css">
    <link rel="stylesheet" href="styles/friends.css">
    <link rel="stylesheet" href="styles/small-screen.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>ISPAY</title>
    <style>
        .language-select {
            width: 100%;
            padding: 0.5rem;
            border: none !important;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            outline: none;
            box-shadow: none !important;
        }

        .language-select:focus {
            border: none !important;
            box-shadow: none !important;
        }

        #languageSelectContainer {
            display: flex;
            align-items: center;
            border: none !important;
        }

        #languageSelect {
            margin-left: 10px;
            height: 35px;
            border: none;
            outline: none;
        }
    </style>
</head>
<body>
    <button class="courses-toggle">
        <img src="courses_flags/chechen.png" alt="Чеченский язык">
    </button>
    <div class="courses-dropdown">
        <div class="courses-dropdown-header">
            <h3>Выберите язык</h3>
        </div>
        <div class="courses-list">
            <!-- Курсы будут добавляться динамически через JavaScript -->
        </div>
    </div>
    <button id="themeToggle" class="theme-toggle">
        <i class="fas fa-moon"></i>
    </button>
    <div class="container">
        <main>
            <div class="center-block">
            </div>
            <div class="aside">
                <div class="aside-item" id="menuText" onclick="togglePages('profilePage')">
                    <a href="#" class="nav-button">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35" height="35" viewBox="0 0 48 48">
                            <path d="M 6 9 A 2.0002 2.0002 0 1 0 6 13 L 42 13 A 2.0002 2.0002 0 1 0 42 9 L 6 9 z M 6 22 A 2.0002 2.0002 0 1 0 6 26 L 42 26 A 2.0002 2.0002 0 1 0 42 22 L 6 22 z M 6 35 A 2.0002 2.0002 0 1 0 6 39 L 42 39 A 2.0002 2.0002 0 1 0 42 35 L 6 35 z">
                            </path>
                        </svg>
                        <span>Профиль</span>
                    </a>
                </div>
                <div class="aside-item" id="languageSelectContainer" style="display: none;">
                    <div id="translateIcon" style="display: flex; align-items: center; cursor: pointer;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="35px" height="35px" viewBox="0 0 48 48" style="display: inline-block;">
                            <title>translate</title>
                            <g id="Layer_2" data-name="Layer 2">
                                <g id="invisible_box" data-name="invisible box">
                                    <rect width="48" height="48" fill="none"/>
                                </g>
                                <g id="icons_Q2" data-name="icons Q2">
                                    <path d="M43.8,41.2,33.9,16.3A2.1,2.1,0,0,0,32,15H30a2.1,2.1,0,0,0-1.9,1.3L23.3,28.4a24,24,0,0,1-5.6-4.3c3.4-4,5.9-8.8,6.2-13.1h2A2.1,2.1,0,0,0,28,9.3,2,2,0,0,0,26,7H17.5V4.1A2.1,2.1,0,0,0,15.8,2a2,2,0,0,0-2.3,2V7H6.1A2.1,2.1,0,0,0,4,8.7,2,2,0,0,0,6,11H19.9c-.3,3-2.3,6.7-4.9,10.1a34.1,34.1,0,0,1-3.2-4.9A2.1,2.1,0,0,0,9.6,15a2,2,0,0,0-1.4,2.9,39.1,39.1,0,0,0,4.1,6.2,24,24,0,0,1-7,5A2.2,2.2,0,0,0,4,31.4,2,2,0,0,0,6,33l.8-.2A26.4,26.4,0,0,0,15,27a28.1,28.1,0,0,0,6.8,5.1l-3.6,9.1A2,2,0,0,0,20,44a2.2,2.2,0,0,0,1.9-1.3L25.8,33H36.2l3.9,9.7A2.2,2.2,0,0,0,42,44a2,2,0,0,0,1.8-2.8ZM27.4,29,31,19.9,34.6,29Z"/>
                                </g>
                            </g>
                        </svg>
                        <span>Выбрать язык</span>
                    </div>
                    <div id="languageDropdown" class="language-dropdown">
                        <div class="language-option" data-value="none">Выбрать язык</div>
                        <div class="language-option" data-value="chechen">Чеченский язык</div>
                        <div class="language-option" data-value="ingush">Ингушский язык</div>
                        <div class="language-option" data-value="adyge">Черкесский язык</div>
                        <div class="language-option" data-value="udmurt">Удмуртский язык</div>
                        <div class="language-option" data-value="tatar">Татарский язык</div>
                        <div class="language-option" data-value="chuvash">Чувашский язык</div>
                        <div class="language-option" data-value="bashkort">Башкирский язык</div>
                        <div class="language-option" data-value="moksha">Мокшанский язык</div>
                        <div class="language-option" data-value="lezgin">Лезгинский язык</div>
                    </div>
                </div>
                <div class="aside-item" id="coursesPageBtn" onclick="window.location.href='courses.html'">
                    <a href="courses.html">
                        <svg fill="#000000" width="35px" height="35px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <path d="M31.514 11.177l-15.514-7.467-15.514 7.467 2.186 1.318v11.529h1.066v-10.886l3.199 1.929v13.223h18.126v-13.219l6.451-3.894zM16 4.893l13.275 6.39-13.267 8.008-13.282-8.009 13.274-6.39zM23.997 27.224h-15.994v-11.514l8.005 4.827 7.989-4.823v11.51z">
                            </path>
                        </svg>
                        <span id="coursesPageTextTranslation">Список курсов</span>
                    </a>
                </div>
                <div class="aside-item" id="transliteratorPageBtn">
                    <a href="transliterator.html">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="35px" height="35px" viewBox="0 -6 44 44" preserveAspectRatio="xMidYMid">
                            <path d="M42.001,32.000 L14.010,32.000 C12.908,32.000 12.010,31.104 12.010,30.001 L12.010,28.002 C12.010,27.636 12.211,27.300 12.532,27.124 L22.318,21.787 C19.040,18.242 19.004,13.227 19.004,12.995 L19.010,7.002 C19.010,6.946 19.015,6.891 19.024,6.837 C19.713,2.751 24.224,0.007 28.005,0.007 C28.006,0.007 28.008,0.007 28.009,0.007 C31.788,0.007 36.298,2.749 36.989,6.834 C36.998,6.889 37.003,6.945 37.003,7.000 L37.006,12.994 C37.006,13.225 36.970,18.240 33.693,21.785 L43.479,27.122 C43.800,27.298 44.000,27.634 44.000,28.000 L44.000,30.001 C44.000,31.104 43.103,32.000 42.001,32.000 ZM31.526,22.880 C31.233,22.720 31.039,22.425 31.008,22.093 C30.978,21.761 31.116,21.436 31.374,21.226 C34.971,18.310 35.007,13.048 35.007,12.995 L35.003,7.089 C34.441,4.089 30.883,2.005 28.005,2.005 C25.126,2.006 21.570,4.091 21.010,7.091 L21.004,12.997 C21.004,13.048 21.059,18.327 24.636,21.228 C24.895,21.438 25.033,21.763 25.002,22.095 C24.972,22.427 24.778,22.722 24.485,22.882 L14.010,28.596 L14.010,30.001 L41.999,30.001 L42.000,28.595 L31.526,22.880 ZM18.647,2.520 C17.764,2.177 16.848,1.997 15.995,1.997 C13.116,1.998 9.559,4.083 8.999,7.083 L8.993,12.989 C8.993,13.041 9.047,18.319 12.625,21.220 C12.884,21.430 13.022,21.755 12.992,22.087 C12.961,22.419 12.767,22.714 12.474,22.874 L1.999,28.588 L1.999,29.993 L8.998,29.993 C9.550,29.993 9.997,30.441 9.997,30.993 C9.997,31.545 9.550,31.993 8.998,31.993 L1.999,31.993 C0.897,31.993 -0.000,31.096 -0.000,29.993 L-0.000,27.994 C-0.000,27.629 0.200,27.292 0.521,27.117 L10.307,21.779 C7.030,18.234 6.993,13.219 6.993,12.988 L6.999,6.994 C6.999,6.939 7.004,6.883 7.013,6.829 C7.702,2.744 12.213,-0.000 15.995,-0.000 C15.999,-0.000 16.005,-0.000 16.010,-0.000 C17.101,-0.000 18.262,0.227 19.369,0.656 C19.885,0.856 20.140,1.435 19.941,1.949 C19.740,2.464 19.158,2.720 18.647,2.520 Z"/>
                        </svg>
                        <span id="TextTranslation">Транслитератор</span>
                    </a>
                </div>                        
                <div class="aside-item">
                    <a id="logoutButton" href="login/logout.php">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35px" height="35px" viewBox="0 0 24 24" fill="none">
                        <path d="M12.75 11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V13C11.25 13.4142 11.5858 13.75 12 13.75C12.4142 13.75 12.75 13.4142 12.75 13V11Z" fill="#"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.7247 2.02709L16.1585 2.43272C17.3143 2.62533 18.2506 2.78137 18.9831 2.99943C19.7459 3.22653 20.3761 3.54467 20.8613 4.11746C21.3465 4.69024 21.5568 5.36421 21.6554 6.15397C21.75 6.91231 21.75 7.86155 21.75 9.03325V14.9667C21.75 16.1384 21.75 17.0877 21.6554 17.846C21.5568 18.6358 21.3465 19.3097 20.8613 19.8825C20.3761 20.4553 19.7459 20.7734 18.9831 21.0005C18.2506 21.2186 17.3143 21.3746 16.1586 21.5672L13.7247 21.9729C12.6915 22.1451 11.8373 22.2875 11.155 22.304C10.4394 22.3213 9.77599 22.2063 9.22247 21.7374C8.75523 21.3416 8.52385 20.827 8.40256 20.25H7.94632C6.8135 20.25 5.88774 20.25 5.15689 20.1518C4.39294 20.0491 3.7306 19.8268 3.20191 19.2981C2.67321 18.7694 2.45093 18.1071 2.34822 17.3431C2.24996 16.6123 2.24998 15.6865 2.25 14.5537V9.4463C2.24998 8.31348 2.24996 7.38773 2.34822 6.65688C2.45093 5.89293 2.67321 5.23059 3.20191 4.7019C3.7306 4.1732 4.39294 3.95092 5.15689 3.84821C5.88775 3.74995 6.81348 3.74997 7.94631 3.74999L8.40256 3.74999C8.52384 3.17295 8.75523 2.65841 9.22247 2.2626C9.77599 1.7937 10.4394 1.67869 11.155 1.69597C11.8373 1.71246 12.6916 1.85487 13.7247 2.02709ZM8.25 17.3351C8.24999 17.8511 8.24997 18.3231 8.26143 18.75H8C6.80029 18.75 5.97595 18.7484 5.35676 18.6652C4.75914 18.5848 4.46611 18.441 4.26257 18.2374C4.05903 18.0339 3.91519 17.7409 3.83484 17.1432C3.7516 16.524 3.75 15.6997 3.75 14.5V9.49999C3.75 8.30028 3.7516 7.47594 3.83484 6.85675C3.91519 6.25913 4.05903 5.9661 4.26257 5.76256C4.46611 5.55902 4.75914 5.41518 5.35676 5.33483C5.97595 5.25159 6.80029 5.24999 8 5.24999H8.26143C8.24997 5.6769 8.24999 6.14889 8.25 6.6649V17.3351ZM11.1188 3.19554C10.5765 3.18243 10.3458 3.2769 10.192 3.40713C10.0383 3.53736 9.90719 3.7494 9.83097 4.28646C9.75179 4.84427 9.75 5.60296 9.75 6.72183V17.2781C9.75 18.397 9.75179 19.1557 9.83097 19.7135C9.90719 20.2506 10.0383 20.4626 10.192 20.5928C10.3458 20.7231 10.5765 20.8175 11.1188 20.8044C11.682 20.7908 12.4307 20.6679 13.5343 20.4839L15.8631 20.0958C17.0793 19.8931 17.9228 19.7511 18.5551 19.5629C19.1672 19.3806 19.4911 19.1794 19.7168 18.9129C19.9425 18.6465 20.0878 18.294 20.1669 17.6602C20.2486 17.0056 20.25 16.1502 20.25 14.9172V9.08275C20.25 7.84973 20.2486 6.99439 20.1669 6.33981C20.0878 5.706 19.9425 5.35347 19.7168 5.08702C19.4911 4.82057 19.1672 4.61933 18.5551 4.43707C17.9228 4.24885 17.0793 4.10688 15.8631 3.90418L13.5343 3.51604C12.4307 3.33211 11.682 3.20914 11.1188 3.19554Z" fill="#"/>
                    </svg>
                        <span id="exitTextTranslation">Выход</span>
                    </a>
                </div>
            </div>
        </main>
    </div>

<!-- Общий контейнер для курсов -->
<div id="languagesContainer" class="hidden">
    <!-- Контейнер для маленького экрана -->
    <div id="smallScreenLessonsPage" class="page hidden lessonsPage small-screen-container">
        <img id="smallScreenLanguageFlag" src="" alt="Флаг">
        <div class="container">
            <div class="main-block LanguageInformation" onclick="toggleHiddenBlock()">Полезная информация</div>
            <div class="hidden-block">
                <div class="tabs">
                    <div class="tab" onclick="showSection('phonetics')">
                        <svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9 9 9 0 0 0-9-9zm0 2a7 7 0 0 1 7 7 7 7 0 0 1-7 7 7 7 0 0 1-7-7 7 7 0 0 1 7-7zm-1 1v12h2V6h-2z"/></svg>
                    </div>
                    <div class="tab" onclick="showSection('grammar')">
                        <svg viewBox="0 0 24 24"><path d="M19 2H5a2 2 0 0 0-2 2v14a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4V4a2 2 0 0 0-2-2zm0 2v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4h14z"/></svg>
                    </div>
                    <div class="tab" onclick="showSection('verbs')">
                        <svg viewBox="0 0 24 24"><path d="M16 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-1v1.585L12.707 11 11 12.707 9.293 11 9 10.707V9H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8zm0 2H8v4h8V4zm-4 6l1 1h1.585L16 14.707 14.707 16 12 13.293 9.293 16 8 14.707 10.293 12H12zM4 19a2 2 0 0 1 2 2h8a2 2 0 0 1 2-2H4z"/></svg>
                    </div>
                    <div class="tab" onclick="showSection('alphabet')">
                        <svg viewBox="0 0 24 24"><path d="M12 3l2.29 6.71H21l-5.7 4.15L17.5 21 12 16.85 6.5 21l2.2-7.14L3 9.71h6.71L12 3z"/></svg>
                    </div>
                </div>
            </div>
        </div>
        <div id="smallScreenContent"></div>
    </div>

    <!-- Контейнер для большого экрана -->
    <div id="lessonsPage" class="page hidden lessonsPage">
        <img id="languageFlag" src="" alt="">
        <div class="container">
            <div class="main-block LanguageInformation" onclick="toggleHiddenBlock()">Полезная информация</div>
            <div class="hidden-block">
                <div class="tabs">
                    <div class="tab" onclick="showSection('phonetics')">
                        <svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9 9 9 0 0 0-9-9zm0 2a7 7 0 0 1 7 7 7 7 0 0 1-7 7 7 7 0 0 1-7-7 7 7 0 0 1 7-7zm-1 1v12h2V6h-2z"/></svg>
                    </div>
                    <div class="tab" onclick="showSection('grammar')">
                        <svg viewBox="0 0 24 24"><path d="M19 2H5a2 2 0 0 0-2 2v14a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4V4a2 2 0 0 0-2-2zm0 2v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4h14z"/></svg>
                    </div>
                    <div class="tab" onclick="showSection('verbs')">
                        <svg viewBox="0 0 24 24"><path d="M16 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-1v1.585L12.707 11 11 12.707 9.293 11 9 10.707V9H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8zm0 2H8v4h8V4zm-4 6l1 1h1.585L16 14.707 14.707 16 12 13.293 9.293 16 8 14.707 10.293 12H12zM4 19a2 2 0 0 1 2 2h8a2 2 0 0 1 2-2H4z"/></svg>
                    </div>
                    <div class="tab" onclick="showSection('alphabet')">
                        <svg viewBox="0 0 24 24"><path d="M12 3l2.29 6.71H21l-5.7 4.15L17.5 21 12 16.85 6.5 21l2.2-7.14L3 9.71h6.71L12 3z"/></svg>
                    </div>
                </div>
            </div>
        </div>
        <div id="content"></div>
    </div>
</div>




<div id="coursesPage" class="page hidden coursesPage">
    <div class="container">
        <main>
            <div class="courses" id="coursesContainer">
                <!-- Курсы будут добавляться динамически -->
            </div>
        </main>
    </div>
</div>


<div id="settingsPage" class="settingsPage page hidden">
    <div class="custom-container">
        <h2 id="settingsHeaderTextTranslation">Настройки</h2>
        <div>
            <h3 id="settingsLangSelectionTranslation">Выбор языка страницы:</h3>
            <input type="radio" id="langRussianSettings" name="language" value="russian" onclick="changeLanguage('russian')"> 
            <label for="langRussianSettings"><span id="settingsLangRussianTranslation">Русский</span></label><br>
            <input type="radio" id="langEnglishSettings" name="language" value="english" onclick="changeLanguage('english')">
            <label for="langEnglishSettings"><span id="settingsLangEnglishTranslation">Английский</span></label><br>
            <input type="radio" id="langFrenchSettings" name="language" value="french" onclick="changeLanguage('french')">
            <label for="langFrenchSettings"><span id="settingsLangFrenchTranslation">Французский</span></label><br>
        </div>

        <div>
            <h3><span id="settingsThemeSelectionTranslation">Выбор темы страницы:</span></h3>
            <input type="radio" id="themeLight" name="theme" value="light" onchange="setTheme()">
            <label for="themeLight"><span id="settingsThemeLightTranslation">Светлая тема</span></label><br>
            <input type="radio" id="themeDark" name="theme" value="dark" onchange="setTheme()">
            <label for="themeDark"><span id="settingsThemeDarkTranslation">Темная тема</span></label><br>
        </div>
    </div>
</div>


<div id="friendsPage" class="page hidden friendsPage">
    <div class="friends-container">
        <div class="friends-header">
            <h2>Друзья</h2>
            <div class="friends-search">
                <input type="text" placeholder="Поиск друзей..." class="search-input">
                <button class="search-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 1 0-.7.7l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0A4.5 4.5 0 1 1 14 9.5 4.5 4.5 0 0 1 9.5 14z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
        </div>
         
        <div class="friends-tabs">
            <button class="tab-button active" data-tab="all">Все друзья</button>
            <button class="tab-button" data-tab="online">Онлайн</button>
            <button class="tab-button" data-tab="offline">Оффлайн</button>
        </div>

        <div class="friends-grid">
            <!-- Список друзей будет добавлен динамически через JavaScript -->
        </div>

        <div class="friends-pagination">
            <button class="pagination-button prev">←</button>
            <div class="pagination-numbers">
                <span class="active">1</span>
                <span>2</span>
                <span>3</span>
                <span>...</span>
                <span>10</span>
            </div>
            <button class="pagination-button next">→</button>
        </div>
    </div>
</div>

<!-- Модальное окно для добавления друга -->
<div id="addFriendModal" class="modal">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Добавить друга</h2>
        <form id="addFriendForm">
            <div class="form-group">
                <label for="friendId">ID друга</label>
                <input type="text" id="friendId" name="friendId" required>
            </div>
            <button type="submit" class="add-friend-submit-btn">Добавить</button>
        </form>
    </div>
</div>

<!-- Модальное окно для добавления курса -->
<div id="addCourseModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Добавить новый курс</h2>
        <div class="course-form">
            <div class="form-group">
                <label for="courseName">Название курса</label>
                <input type="text" id="courseName" required>
            </div>
            <div class="form-group">
                <label for="courseFlag">Флаг курса</label>
                <input type="file" id="courseFlag" accept="image/*" required>
            </div>
            <div class="form-group">
                <label for="courseDescription">Описание курса</label>
                <textarea id="courseDescription" required></textarea>
            </div>
            <button type="submit" class="add-course-btn">Добавить курс</button>
        </div>
    </div>
</div>





<!--<div id="shopPage" class="shopPage page hidden">
    <div class="container">
        <div class="shop_header">
            <button id="crystals-button" class="header-button">
                <img src="images/freeze.png" alt="Кристаллы"><span class="crystals"></span>
            </button>
            <button id="gold-button" class="header-button">
                <img src="images/coins.png" alt="Золото"><span class="coins"></span>
            </button>
        </div>
        <section class="boosters-section">
            <div class="booster" id="booster1">
                <img src="images/flask.png" alt="Бустер">
                <div>
                    <p id="boosterElement1">Бустер опыта 150%</p>
                    <p class="price">799<img src="images/freeze.png" class="price-image" alt="Кристаллы">
                    </p> 
                </div>
            </div>
            <div class="booster" id="booster2">
                <img src="images/flask.png" alt="Бустер">
                <div>
                    <p id="boosterElement2">Бустер опыта 100%</p>
                    <p class="price">559<img src="images/freeze.png" class="price-image" alt="Кристаллы">
                    </p> 
                </div>
            </div>
            <div class="booster" id="booster3">
                <img src="images/flask.png" alt="Бустер">
                <div>
                    <p id="boosterElement3">Бустер опыта 35%</p>
                    <p class="price">229<img src="images/freeze.png" class="price-image" alt="Кристаллы">
                    </p> 
                </div>
            </div>
            <div class="booster" id="booster4">
                <img src="images/flask.png" alt="Бустер">
                <div>
                    <p id="boosterElement4">Бустер опыта 50%</p>
                    <p class="price">5<img src="images/freeze.png" class="price-image" alt="Кристаллы">
                    </p> 
                </div>
            </div>
        </section>

        <section class="subscription-banner" id="subscription-banner">
            <div class="subscription">
                <h3>Месячная подписка</h3>
                <p>Цена: 9.99 USD</p>
                <button>Купить</button>
            </div>
            <div class="subscription">
                <h3>Годовая подписка</h3>
                <p>Цена: 99.99 USD</p>
                <button>Купить</button>
            </div>
            <div class="subscription">
                <h3>Премиум подписка</h3>
                <p>Цена: 19.99 USD</p>
                <button>Купить</button>
            </div>
            <div class="crystals-purchase">
                <h3>100 кристаллов</h3>
                <p>Цена: 1.99 USD</p>
                <button>Купить</button>
            </div>
            <div class="crystals-purchase">
                <h3>500 кристаллов</h3>
                <p>Цена: 8.99 USD</p>
                <button>Купить</button>
            </div>
            <div class="crystals-purchase">
                <h3>1000 кристаллов</h3>
                <p>Цена: 14.99 USD</p>
                <button>Купить</button>
            </div>
        </section>-->
    </div>
</div>


<div id="profilePage" class="profilePage page">
    <div class="container">
        <!-- Блок для больших экранов -->
        <div class="row">
            <div class="col-md-9 large-screen-block">
                <div class="profile-info">
                    <img src="" alt="User Avatar" id="userAvatar">
                    <div id="userInfoContainer">
                        <h2 id="userInfoHeaderTranslation">Информация о пользователе</h2>
                        <p class="userNameTranslation" id="userNameTranslation">Имя: <span class="mainNickname" id="mainNickname"></span></p>
                        <p class="userEmailTranslation" id="userEmailTranslation">Email: <span class="mainEmail" id="mainEmail"></span></p>
                        <p class="userCountryTranslation" id="userCountryTranslation">Страна: <span class="mainCountry" id="mainCountry"></span></p>
                        <button id="editProfileBtn" class="btn btn-primary">Редактировать профиль</button>
                    </div>  
                </div>

                <div class="row">
                    <div class="col-md-12 large-screen-block">
                        <hr>
                        <div class="profile-courses-block">
                            <h2 id="coursesHeaderTranslation">Курсы</h2>
                            <div class="profile-courses">
                                <a href="chechen_lessons_menu.html" class="profile-course" data-language="chechen">
                                    <img src="courses_flags/chechen.png" alt="Flag">
                                    <h6 id="profileChechenTranslation">Чеченский язык</h6>
                                </a>
                                <a href="ingush_language.html" class="profile-course" data-language="ingush">
                                    <img src="courses_flags/ingush.png" alt="Flag">
                                    <h6 id="profileIngushTranslation">Ингушский язык</h6>
                                </a>
                                <a href="adyge_language.html" class="profile-course" data-language="adyge">
                                    <img src="courses_flags/adyge.png" alt="Flag">
                                    <h6 id="profileAdygeTranslation">Черкесский язык</h6>
                                </a>
                                <a href="chuvash_language.html" class="profile-course" data-language="chuvash">
                                    <img src="courses_flags/chuvash.png" alt="Flag">
                                    <h6 id="profileChuvashTranslation">Чувашский язык</h6>
                                </a>
                                <a href="tatar_language.html" class="profile-course" data-language="tatar">
                                    <img src="courses_flags/tatar.png" alt="Flag">
                                    <h6 id="profileTatarTranslation">Татарский язык</h6>
                                </a>
                                <a href="bashkort_language.html" class="profile-course" data-language="bashkort">
                                    <img src="courses_flags/bashkort.png" alt="Flag">
                                    <h6 id="profileBashkortTranslation">Башкирский язык</h6>
                                </a>                                
                                <a href="lezgin_language.html" class="profile-course" data-language="lezgin">
                                    <img src="courses_flags/lezgin.png" alt="Flag">
                                    <h6 id="profileUdmurtTranslation">Лезгинский язык</h6>
                                </a>       
                                <a href="moksha_language.html" class="profile-course" data-language="moksha">
                                    <img src="courses_flags/moksha.png" alt="Flag">
                                    <h6 id="profileUdmurtTranslation">Мокшанский язык</h6>
                                </a>                                                                                                                        
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-3 profile-stats-container large-screen-stats">
                <div class="profile-stats">
                    <h2 id="statsHeaderTranslation">Статистика</h2>
                    <div class="stat-item">
                        <p id="scoreTranslation">Количество очков:</p> <span id="score"></span>
                    </div>
                    <div class="stat-item">
                        <p id="completedLessonsTranslation">Количество пройденных уроков:</p> <span id="lessonsCompleted"></span>
                    </div>
                    <div class="stat-item">
                        <p id="globalRankTranslation">Место в общей статистике:</p> <span id="overallRank"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 large-screen-block">
                    <hr>
                    <div class="gift-section">
                        <h2 id="dailyGiftsHeaderTranslation">Ежедневные подарки</h2>
                        <div>
                            <div class="gift-item" data-gift-day="1">
                                <img src="images/chest.png" alt="Gift 1">
                                <p><span id="giftItemTranslation1">День </span> 1</p>
                            </div>
                            <div class="gift-item" data-gift-day="2">
                                <img src="images/chest.png" alt="Gift 2">
                                <p><span id="giftItemTranslation2">День </span> 2</p>
                            </div>
                            <div class="gift-item" data-gift-day="3">
                                <img src="images/chest.png" alt="Gift 3">
                                <p><span id="giftItemTranslation3">День </span> 3</p>
                            </div>
                            <div class="gift-item" data-gift-day="4">
                                <img src="images/chest.png" alt="Gift 4">
                                <p><span id="giftItemTranslation4">День </span> 4</p>
                            </div>
                            <div class="gift-item" data-gift-day="5">
                                <img src="images/chest.png" alt="Gift 5">
                                <p><span id="giftItemTranslation5">День </span> 5</p>
                            </div>
                            <div class="gift-item" data-gift-day="6">
                                <img src="images/chest.png" alt="Gift 6">
                                <p><span id="giftItemTranslation6">День </span> 6</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<div id="center-animation">
    <div id="center-animation-content"></div>
</div>

        <!-- Блок для маленьких экранов -->
        <div class="small-screen-container">
            <div class="col-12 small-screen-profile-info">
                <img src="" alt="User Avatar" id="userAvatarSmall">
                <div class="small-screen-user-info">
                    <h2>Информация о пользователе</h2>
                    <p>Имя: <span class="mainNickname"></span></p>
                    <p>Email: <span class="mainEmail"></span></p>
                    <p>Страна: <span class="mainCountry"></span></p>
                    <button class="btn btn-primary small-screen-btn">Редактировать профиль</button>
                </div>
            </div>

            <div class="col-12 small-screen-courses">
                <h2>Курсы</h2>
                <div class="small-screen-course-item" data-language="chechen">
                    <img src="courses_flags/chechen.png" alt="Flag">
                    <h6>Чеченский язык</h6>
                </div>
                <div class="small-screen-course-item" data-language="ingush">
                    <img src="courses_flags/ingush.png" alt="Flag">
                    <h6>Ингушский язык</h6>
                </div>
                <div class="small-screen-course-item" data-language="adyge">
                    <img src="courses_flags/adyge.png" alt="Flag">
                    <h6>Черкесский язык</h6>
                </div>
                <div class="small-screen-course-item" data-language="udmurt">
                    <img src="courses_flags/udmurt.png" alt="Flag">
                    <h6>Удмуртский язык</h6>
                </div>
                <div class="small-screen-course-item" data-language="bashkort">
                    <img src="courses_flags/bashkort.png" alt="Flag">
                    <h6>Башкирский язык</h6>
                </div>
                <div class="small-screen-course-item" data-language="chuvash">
                    <img src="courses_flags/chuvash.png" alt="Flag">
                    <h6>Чувашский язык</h6>
                </div>   
                <div class="small-screen-course-item" data-language="tatar">
                    <img src="courses_flags/tatar.png" alt="Flag">
                    <h6>Татарский язык</h6>
                </div>                             
            </div>

            <div class="col-12 small-screen-stats-container">
                <h2>Статистика</h2>
                <div>
                    <div class="stat-item-mobile">
                        <span class="teststats" id="scoreSmall"></span>
                    </div>
                    <div class="stat-item-mobile">
                        <span id="lessonsCompletedSmall"></span>
                    </div>
                    <div class="stat-item-mobile">
                        <span id="overallRankSmall"></span>
                    </div>
                </div>
            </div>
            <div class="col-12 small-screen-gifts">
                <h2>Ежедневные подарки</h2>
                <div class="small-screen-gift-item">
                    <img src="images/chest.png" alt="Gift 1">
                    <p>День 1</p>
                </div>
                <div class="small-screen-gift-item">
                    <img src="images/chest.png" alt="Gift 2">
                    <p>День 2</p>
                </div>
                <div class="small-screen-gift-item">
                    <img src="images/chest.png" alt="Gift 3">
                    <p>День 3</p>
                </div>
                <div class="small-screen-gift-item">
                    <img src="images/chest.png" alt="Gift 4">
                    <p>День 4</p>
                </div>
                <div class="small-screen-gift-item">
                    <img src="images/chest.png" alt="Gift 5">
                    <p>День 5</p>
                </div>
                <div class="small-screen-gift-item">
                    <img src="images/chest.png" alt="Gift 6">
                    <p>День 6</p>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="modal large-screen-modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 class="modal-header">Информация о пользователе</h2>

        <div class="profile-content">
            <div class="profile-avatar-container">
                <img alt="User Avatar" class="profile-avatar" src="profile-pics/user-avatar.jpg">
                <input type="file" class="avatar-upload" accept="image/*" style="display: none;">
            </div>

            <div class="profile-info modal-profile-info">
                <p class="editable">Имя: <span class="nickname"></span></p>
                <p class="editable">Email: <span class="email"></span></p>
                <p class="editable">Страна: <span class="country"></span></p>
            </div>
        </div>

        <form class="updateForm" action="login/update_profile.php" method="POST" enctype="multipart/form-data" style="display:none;">
            <input type="hidden" name="csrf_token" value="<?php echo htmlspecialchars($_SESSION['csrf_token']); ?>">
            <input type="hidden" name="field" class="field">
            <input type="text" name="value" class="value">
            <input type="file" name="avatar" class="avatar-input" accept="image/*" style="display: none;">
            <button type="submit">Сохранить</button>
        </form>
    </div>
</div>

<!-- Модальное окно для маленьких экранов -->
<div class="modal small-screen-modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 class="modal-header">Информация о пользователе</h2>

        <div class="profile-content">
            <div class="profile-avatar-container">
                <img alt="User Avatar" class="profile-avatar" src="profile-pics/user-avatar.jpg">
                <input type="file" class="avatar-upload" accept="image/*" style="display: none;">
            </div>

            <div class="profile-info modal-profile-info">
                <p class="editable">Имя: <span class="nickname"></span></p>
                <p class="editable">Email: <span class="email"></span></p>
                <p class="editable">Страна: <span class="country"></span></p>
            </div>
        </div>

        <form class="updateForm" action="login/update_profile.php" method="POST" enctype="multipart/form-data" style="display:none;">
            <input type="hidden" name="csrf_token" value="<?php echo htmlspecialchars($_SESSION['csrf_token']); ?>">
            <input type="hidden" name="field" id="field">
            <input type="text" name="value" id="value">
            <button type="submit">Сохранить</button>
        </form>
    </div>
</div>


<script>
// Функция для инициализации выпадающего меню
function initCoursesDropdown() {
    const coursesToggle = document.querySelector('.courses-toggle');
    const coursesDropdown = document.querySelector('.courses-dropdown');
    const coursesList = document.querySelector('.courses-list');
    
    if (!coursesToggle || !coursesDropdown || !coursesList) {
        console.error('Элементы выпадающего меню не найдены');
        return;
    }

    // Получаем список языков пользователя
    fetch('getUserId.php')
        .then(response => response.json())
        .then(data => {
            if (data.error) {
                console.error('Error:', data.error);
                return;
            }
            
            const userId = data.user_id;
            console.log('ID пользователя:', userId);
            
            // Получаем языки пользователя
            fetch(`get_user_languages.php?user_id=${userId}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        console.error('Error fetching languages:', data.error);
                        return;
                    }

                    const userLanguages = data.languages;
                    console.log('Языки пользователя из БД:', userLanguages);
                    
                    // Очищаем список курсов
                    coursesList.innerHTML = '';
                    
                    // Создаем элементы только для языков пользователя
                    userLanguages.forEach(language => {
                        const courseItem = document.createElement('div');
                        courseItem.className = 'course-item-dropdown';
                        courseItem.setAttribute('data-value', language);
                        
                        // Определяем название языка и путь к флагу
                        let languageName, flagSrc;
                        switch(language) {
                            case 'chechen':
                                languageName = 'Чеченский язык';
                                flagSrc = 'courses_flags/chechen.png';
                                break;
                            case 'ingush':
                                languageName = 'Ингушский язык';
                                flagSrc = 'courses_flags/ingush.png';
                                break;
                            case 'adyge':
                                languageName = 'Черкесский язык';
                                flagSrc = 'courses_flags/adyge.png';
                                break;
                            case 'chuvash':
                                languageName = 'Чувашский язык';
                                flagSrc = 'courses_flags/chuvash.png';
                                break;
                            case 'tatar':
                                languageName = 'Татарский язык';
                                flagSrc = 'courses_flags/tatar.png';
                                break;
                            case 'bashkort':
                                languageName = 'Башкирский язык';
                                flagSrc = 'courses_flags/bashkort.png';
                                break;
                            case 'lezgin':
                                languageName = 'Лезгинский язык';
                                flagSrc = 'courses_flags/lezgin.png';
                                break;
                            case 'moksha':
                                languageName = 'Мокшанский язык';
                                flagSrc = 'courses_flags/moksha.png';
                                break;
                            default:
                                return;
                        }
                        
                        courseItem.innerHTML = `
                            <img src="${flagSrc}" alt="${languageName}">
                            <span>${languageName}</span>
                        `;
                        
                        coursesList.appendChild(courseItem);
                    });
                })
                .catch(error => console.error('Error fetching languages:', error));
        })
        .catch(error => console.error('Error fetching user ID:', error));

    // Показать/скрыть выпадающее меню при клике на кнопку
    coursesToggle.addEventListener('click', function(e) {
        e.stopPropagation();
        coursesDropdown.classList.toggle('show');
    });

    // Закрыть выпадающее меню при клике вне его
    document.addEventListener('click', function(event) {
        if (!coursesToggle.contains(event.target) && !coursesDropdown.contains(event.target)) {
            coursesDropdown.classList.remove('show');
        }
    });

    // Обработка выбора языка
    coursesDropdown.addEventListener('click', function(event) {
        const courseItem = event.target.closest('.course-item-dropdown');
        if (courseItem) {
            const language = courseItem.getAttribute('data-value');
            showLanguage(language);
            selectLanguage(language);
            coursesDropdown.classList.remove('show');
        }
    });
}

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM загружен');
    initCoursesDropdown();
});

// Функция для переключения мобильного выпадающего списка
function toggleLanguageDropdown() {
    const dropdown = document.getElementById('mobileLanguageDropdown');
    dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';

    // Применяем текущую тему к дропдауну
    const currentTheme = localStorage.getItem('currentTheme');
    const bodyColor = localStorage.getItem('bodyColor');
    const textColor = currentTheme === 'dark' ? '#15E670' : '#f3166b';
    
    dropdown.style.backgroundColor = bodyColor;
    const options = dropdown.getElementsByClassName('language-option');
    for (let option of options) {
        option.style.color = textColor;
    }
    
    // Закрываем дропдаун при клике вне его
    document.addEventListener('click', function closeDropdown(e) {
        if (!e.target.closest('#languageSelectContainerMobile')) {
            dropdown.style.display = 'none';
            document.removeEventListener('click', closeDropdown);
        }
    });
}

// Функция для выбора языка в мобильной версии
function selectMobileLanguage(language) {
    // Вызываем существующие функции
    showLanguage(language);
    selectLanguage(language);
    
    // Закрываем дропдаун
    document.getElementById('mobileLanguageDropdown').style.display = 'none';
}

// Добавляем обработчик для обновления стилей при изменении темы
function updateMobileDropdownStyles() {
    const currentTheme = localStorage.getItem('currentTheme');
    const bodyColor = localStorage.getItem('bodyColor');
    const textColor = currentTheme === 'dark' ? '#15E670' : '#f3166b';
    
    const dropdown = document.getElementById('mobileLanguageDropdown');
    if (dropdown) {
        dropdown.style.backgroundColor = bodyColor;
        const options = dropdown.getElementsByClassName('language-option');
        for (let option of options) {
            option.style.color = textColor;
        }
    }
}

// Добавляем вызов функции обновления стилей в существующие функции темы
const originalSetThemeLight = window.setThemeLight;
window.setThemeLight = function() {
    originalSetThemeLight();
    updateMobileDropdownStyles();
};

const originalSetThemeDark = window.setThemeDark;
window.setThemeDark = function() {
    originalSetThemeDark();
    updateMobileDropdownStyles();
};
// Функция выбора языка - обновленная версия
function selectLanguage(language) {
    // Скрыть все блоки для маленьких экранов
    document.querySelectorAll('.small-screen-container').forEach(el => el.style.display = 'none');
    
    // Показать только выбранный блок
    const selectedBlock = document.getElementById('smallScreenLessonsPage' + language);
    if (selectedBlock) {
        selectedBlock.style.display = 'block';
    }

    // Сохраняем выбранный язык в localStorage
    localStorage.setItem('language', language);
    
}

// Обработчик изменения размера окна
function handleResize() {
    const select = document.getElementById("languageSelect");
    const dropdownItems = document.querySelectorAll('#customDropdown div');
    const options = select.options;

    if (window.innerWidth <= 1775) {
        // Очищаем текст в select
        for (let i = 0; i < options.length; i++) {
            options[i].text = "";
        }
        // Очищаем текст в выпадающем списке
        dropdownItems.forEach(item => {
            item.textContent = "";
        });
    } else {
        // Восстанавливаем текст в select
        const languageTexts = [
            "Выбрать язык",
            "Чеченский язык",
            "Ингушский язык",
            "Черкесский язык",
            "Удмуртский язык",
            "Татарский язык",
            "Чувашский язык",
            "Башкирский язык"
        ];
        
        // Обновляем текст в select
        languageTexts.forEach((text, index) => {
            if (options[index]) options[index].text = text;
        });
        
        // Обновляем текст в выпадающем списке
        dropdownItems.forEach((item, index) => {
            item.textContent = languageTexts[index];
        });
    }
}


// Проверка сессии
function checkSession() {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'login/profile.php', true);
    xhr.onload = function() {
        if (xhr.status !== 200) {
            console.error('Сессия не активна');
            window.location.href = 'login/login.html';
        }
    };
    xhr.onerror = function() {
        console.error('Ошибка проверки сессии');
    };
    xhr.send();
}

// Отключение перехода по ссылкам профиля курса
document.querySelectorAll('.profile-course').forEach(function(link) {
    link.addEventListener('click', function(event) {
        event.preventDefault();
    });
});

// Обработчик изменения поля
document.getElementById('field')?.addEventListener('change', function() {
    var selectedField = this.value;
    document.getElementById('field').value = selectedField;
});

// Инициализация при загрузке страницы
window.onload = function() {
    handleResize();
    
    // Восстанавливаем выбранный язык из localStorage если есть
    const savedLanguage = localStorage.getItem('language');
    if (savedLanguage) {
        selectLanguage(savedLanguage);
    }
};

// Обработчик изменения размера окна
window.onresize = handleResize;

// Функция для переключения темы
function toggleTheme() {
    const isDark = document.body.classList.toggle('dark-theme');
    const themeIcon = document.querySelector('#themeToggle i');
    
    // Сохраняем выбор пользователя
    localStorage.setItem('currentTheme', isDark ? 'dark' : 'light');
    
    // Меняем иконку
    themeIcon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
    
    // Используем существующие функции из settings.js
    if (isDark) {
        setThemeDark();
    } else {
        setThemeLight();
    }
}

// Применяем сохраненную тему при загрузке
function applyTheme() {
    const savedTheme = localStorage.getItem('currentTheme');
    const themeIcon = document.querySelector('#themeToggle i');
    
    if (savedTheme === 'dark') {
        document.body.classList.add('dark-theme');
        themeIcon.className = 'fas fa-sun';
        setThemeDark();
    } else {
        document.body.classList.remove('dark-theme');
        themeIcon.className = 'fas fa-moon';
        setThemeLight();
    }
}

// Добавляем обработчик события для кнопки переключения темы
document.getElementById('themeToggle').addEventListener('click', toggleTheme);

// Применяем тему при загрузке страницы
document.addEventListener('DOMContentLoaded', applyTheme);

// Функции для работы с курсами
function openAddCourseModal() {
    document.getElementById('addCourseModal').style.display = 'block';
}

function closeAddCourseModal() {
    document.getElementById('addCourseModal').style.display = 'none';
}

function createCourseElement(courseData) {
    const courseDiv = document.createElement('div');
    courseDiv.className = 'course';
    courseDiv.innerHTML = `
        <img src="${courseData.flagUrl}" alt="${courseData.name}">
        <h3 class="courses_titles">${courseData.name}</h3>
        <p class="course-description">${courseData.description}</p>
        <button class="add-language-button a" data-language="${courseData.id}">+</button>
    `;
    return courseDiv;
}

function handleAddCourse(event) {
    event.preventDefault();
    
    const courseName = document.getElementById('courseName').value;
    const courseFlag = document.getElementById('courseFlag').files[0];
    const courseDescription = document.getElementById('courseDescription').value;
    
    if (!courseName || !courseFlag || !courseDescription) {
        alert('Пожалуйста, заполните все поля');
        return;
    }
    
    // Создаем URL для загруженного изображения
    const flagUrl = URL.createObjectURL(courseFlag);
    
    // Создаем объект с данными курса
    const courseData = {
        id: courseName.toLowerCase().replace(/\s+/g, '-'),
        name: courseName,
        flagUrl: flagUrl,
        description: courseDescription
    };
    
    // Добавляем курс на страницу
    const coursesContainer = document.getElementById('coursesContainer');
    const courseElement = createCourseElement(courseData);
    coursesContainer.appendChild(courseElement);
    
    // Закрываем модальное окно
    closeAddCourseModal();
    
    // Очищаем форму
    event.target.reset();
}

// Добавляем обработчики событий
document.getElementById('addCourseBtn').addEventListener('click', openAddCourseModal);
document.querySelector('.close').addEventListener('click', closeAddCourseModal);
document.querySelector('.course-form').addEventListener('submit', handleAddCourse);

// Закрываем модальное окно при клике вне его
window.addEventListener('click', function(event) {
    const modal = document.getElementById('addCourseModal');
    if (event.target === modal) {
        closeAddCourseModal();
    }
});
</script>

<!-- Сначала загружаем основные скрипты -->
<script src="toggle.js"></script>
<script src="profile.js"></script>
<script src="settings.js"></script>
<script src="get_user_languages.js"></script>
<script src="add_language_to_profile.js"></script>
<script src="gift.js"></script>
<script src="scripts/navigation.js"></script>
<script src="statsHandler.js"></script>
<script src="getFriends.js"></script>
<script src="display_course.js"></script>
<script src="add_course.js"></script>
</body>
</html>
